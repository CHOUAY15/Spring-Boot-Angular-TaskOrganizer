<div class="update-password-container">
  <div class="info-section">
    <h2>Mettre à jour le mot de passe</h2>
    <p class="welcome-message">Salut Monsieur <span class="user-name">{{userPrenom}} {{ userNom }}</span></p>
    <p class="security-message">Merci de mettre à jour votre mot de passe pour des raisons de sécurité.</p>
    <p style="color: red;">Après la mise à jour de votre mot de passe, le système va se déconnecter automatiquement !</p>

  </div>
  <div class="form-section">
    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" class="password-form">
      <div class="form-group">
        <label for="newPassword">Nouveau mot de passe</label>
        <input type="password" id="newPassword" formControlName="newPassword" required>
        <div class="password-strength-meter">
          <div class="strength-segment" [class.active]="(passwordStrength$ | async) >= 1"></div>
          <div class="strength-segment" [class.active]="(passwordStrength$ | async) >= 2"></div>
          <div class="strength-segment" [class.active]="(passwordStrength$ | async) === 3"></div>
        </div>
      </div>
      <div class="form-group">
        <label for="confirmPassword">Confirmer le mot de passe</label>
        <input type="password" id="confirmPassword" formControlName="confirmPassword" required>
        <div class="error-message" *ngIf="passwordForm.hasError('mismatch') && passwordForm.get('confirmPassword').touched">
          Les mots de passe ne correspondent pas
        </div>
      </div>
      <button type="submit" [disabled]="passwordForm.invalid">Mettre à jour le mot de passe</button>
    </form>
  </div>
  <app-feed-back
  *ngIf="showFeedback"
  (closed)="closeFeedback()"
  [message]="feedbackMessage"
  (animationDone)="showFeedback = false"
></app-feed-back>
</div>