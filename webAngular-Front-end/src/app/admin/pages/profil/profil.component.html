<div class="profile-container">
    <div class="profile-header">
      <h1>Profile</h1>
      <button (click)="toggleEdit()" class="edit-button">
        {{ isEditing ? 'Annuler' : 'Modifier' }}
      </button>
    </div>
  
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="profile-form">
      <div class="avatar-section">
        <img *ngIf="profileForm.get('avatar').value; else defaultAvatar" [src]="profileForm.get('avatar').value" alt="Avatar" class="avatar">

        <ng-template #defaultAvatar>
          <img [src]="profileForm.get('gender').value === 'Femme' ? 'assets/images/profile/femme.png' : 'assets/images/profile/homme.png'" alt="Avatar" class="avatar">
        </ng-template>
                <input type="file" id="avatar" (change)="onFileChange($event)" [disabled]="!isEditing">
      </div>
  
      <div class="form-grid">
        <div class="form-group">
          <label for="name">Prénom</label>
          <input type="text" id="name" formControlName="name" readonly>
        </div>
  
        <div class="form-group">
          <label for="lastName">Nom</label>
          <input type="text" id="lastName" formControlName="lastName" readonly>
        </div>
  
        <div class="form-group">
          <label for="age">Âge</label>
          <input type="number" id="age" formControlName="age" [readonly]="!isEditing">
        </div>
  
        <div class="form-group">
          <label for="telephone">Téléphone</label>
          <input type="tel" id="telephone" formControlName="telephone" [readonly]="!isEditing">
        </div>
  
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" formControlName="email" readonly>
        </div>
  
        <div class="form-group">
          <label for="password">Mot de passe</label>
          <input type="password" id="password" formControlName="password" [readonly]="!isEditing">
        </div>
  
        <div class="form-group full-width">
          <label for="adresse">Adresse</label>
          <input type="text" id="adresse" formControlName="adresse" [readonly]="!isEditing">
        </div>
  
        <div class="form-group">
          <label for="gender">Genre</label>
          <input type="text" id="gender" formControlName="gender" readonly>
        </div>
  
        <div class="form-group">
          <label for="cin">CIN</label>
          <input type="text" id="cin" formControlName="cin" readonly>
        </div>
      </div>
  
      <button type="submit" *ngIf="isEditing" class="submit-button" [disabled]="profileForm.invalid">
        Enregistrer les modifications
      </button>
    </form>
  </div>