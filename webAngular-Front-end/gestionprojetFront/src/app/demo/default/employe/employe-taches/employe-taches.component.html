<div *ngIf="rapportOpen">
  <div class="rapport-update">
    <h3>Insertion/Mise √† jour du rapport PFA</h3>
    <p>Merci d'ins√©rer, √† la fin de vos travaux, un rapport final de projet concernant les t√¢ches qui vous ont √©t√© assign√©es</p>
    <div class="file-input-wrapper">
      <input type="file" id="file-upload" class="file-input" (change)="importFile($event)">
      <label for="file-upload" class="file-label">
        <span class="file-icon">üìÅ</span>
        <span class="file-text">Choisir un fichier</span>
      </label>
    </div>
  </div>
</div>

<div class="board">
  <div class="liste-container" *ngFor="let statut of statuts">
    <div class="liste-header">
      <h2>
        <mat-icon [ngSwitch]="statut" [ngClass]="statut">
          <ng-container *ngSwitchCase="'A_Faire'">radio_button_unchecked</ng-container>
          <ng-container *ngSwitchCase="'En_Cours'">schedule</ng-container>
          <ng-container *ngSwitchCase="'Termine'">check_circle_outline</ng-container>
        </mat-icon>
        {{ statut | titlecase }}
      </h2>
      <span class="tache-count">{{ getTachesList(statut).length }}</span>
    </div>
    <div
      cdkDropList
      [cdkDropListData]="getTachesList(statut)"
      [cdkDropListConnectedTo]="['todoList', 'inProgressList', 'doneList']"
      [id]="statut === 'A_Faire' ? 'todoList' : statut === 'En_Cours' ? 'inProgressList' : 'doneList'"
      (cdkDropListDropped)="drop($event)"
      class="liste"
    >
      <div class="tache" *ngFor="let tache of getTachesList(statut)" cdkDrag>
        <app-cart-tache [tache]="tache"></app-cart-tache>
        <span class="indicateur" [ngClass]="statut"></span>
      </div>
    </div>
  </div>

</div>
